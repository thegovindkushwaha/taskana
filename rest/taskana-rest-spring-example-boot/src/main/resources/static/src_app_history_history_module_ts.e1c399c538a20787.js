"use strict";(self.webpackChunktaskana_web=self.webpackChunktaskana_web||[]).push([["src_app_history_history_module_ts"],{9104:(fe,v,s)=>{s.r(v),s.d(v,{HistoryModule:()=>Xt});var S=s(6362),A=s(587),N=s(7795),k=s(9720),c=s(4900);class Z{}let E=(()=>{class e{}return e.parameters={SORTBY:"sort-by",SORTDIRECTION:"order",NAME:"name",NAMELIKE:"name-like",DESCLIKE:"description-like",OWNER:"owner",OWNERLIKE:"owner-like",TYPE:"type",KEY:"key",CREATED:"created",WORKBASKET_KEY:"workbasket-key",KEYLIKE:"key-like",PRIORITY:"priority",STATE:"state",WORKBASKET_ID:"workbasket-id",TASK_PRIMARY_OBJ_REF_TYPE_LIKE:"por-type",TASK_PRIMARY_OBJ_REF_VALUE_LIKE:"por-value",REQUIREDPERMISSION:"required-permission",ACCESSIDS:"access-ids",ACCESSIDLIKE:"access-id-like",WORKBASKETKEYLIKE:"workbasket-key-like",PAGE:"page",PAGESIZE:"page-size",DOMAIN:"domain",TASK_ID_LIKE:"task-id-like",PARENT_BUSINESS_PROCESS_ID_LIKE:"parent-business-process-id-like",BUSINESS_PROCESS_ID_LIKE:"business-process-id-like",EVENT_TYPE_LIKE:"event-type-like",CREATED_LIKE:"created-like",USER_ID_LIKE:"user-id-like",POR_COMPANY_LIKE:"por-company-like",POR_SYSTEM_LIKE:"por-system-like",POR_INSTANCE_LIKE:"por-instance-like",POR_TYPE_LIKE:"por-type-like",POR_VALUE_LIKE:"por-value-like",TASK_CLASSIFICATION_KEY_LIKE:"task-classification-key-like",TASK_CLASSIFICATION_CATEGORY_LIKE:"task-classification-category-like",ATTACHMENT_CLASSIFICATION_KEY_LIKE:"attachment-classification-key-like",CUSTOM_1_LIKE:"custom-1-like",CUSTOM_2_LIKE:"custom-2-like",CUSTOM_3_LIKE:"custom-3-like",CUSTOM_4_LIKE:"custom-4-like",COMMENT_LIKE:"comment-like"},e.page=1,e.pageSize=9,e})();var Y=s(2264),Q=s(3436),t=s(3184),R=s(8784);let M=(()=>{class e{constructor(i,r){this.httpClient=i,this.startupService=r}get url(){return this.startupService.getTaskanaRestUrl()}getTaskHistoryEvents(i,r,n){return this.httpClient.get(`${this.url}/v1/task-history-event${(0,Q.G)(Object.assign(Object.assign(Object.assign({},i),r),n))}`)}getQueryParameters(i,r,n,l,T,u,h,te,ee,ie,oe,re,ae,ne,se,ce,de,le,_e,me,ue,he,pe=!1){const d=new Z;d.SORTBY=i,d.SORTDIRECTION=r,d.TASK_ID_LIKE=n,d.PARENT_BUSINESS_PROCESS_ID_LIKE=l,d.BUSINESS_PROCESS_ID_LIKE=T,d.EVENT_TYPE_LIKE=u,d.USER_ID_LIKE=h,d.DOMAIN=te,d.WORKBASKETKEYLIKE=ee,d.POR_COMPANY_LIKE=ie,d.POR_SYSTEM_LIKE=oe,d.POR_INSTANCE_LIKE=re,d.POR_TYPE_LIKE=ae,d.POR_VALUE_LIKE=ne,d.TASK_CLASSIFICATION_KEY_LIKE=se,d.TASK_CLASSIFICATION_CATEGORY_LIKE=ce,d.ATTACHMENT_CLASSIFICATION_KEY_LIKE=de,d.CUSTOM_1_LIKE=le,d.CUSTOM_2_LIKE=_e,d.CUSTOM_3_LIKE=me,d.CUSTOM_4_LIKE=ue,d.CREATED=he,pe&&(delete E.page,delete E.pageSize)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(R.eN),t.LFG(Y.H))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=s(6484),D=s(5939),p=s(1130),x=s(253),w=s(6646),a=s(1631),H=s(4128);const b=["mat-sort-header",""];function B(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",3),t.NdJ("@arrowPosition.start",function(){return t.CHM(i),t.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return t.CHM(i),t.oxw()._disableViewStateAnimation=!1}),t._UZ(1,"div",4),t.TgZ(2,"div",5),t._UZ(3,"div",6)(4,"div",7)(5,"div",8),t.qZA()()}if(2&e){const i=t.oxw();t.Q6J("@arrowOpacity",i._getArrowViewState())("@arrowPosition",i._getArrowViewState())("@allowChildren",i._getArrowDirectionState()),t.xp6(2),t.Q6J("@indicator",i._getArrowDirectionState()),t.xp6(1),t.Q6J("@leftPointer",i._getArrowDirectionState()),t.xp6(1),t.Q6J("@rightPointer",i._getArrowDirectionState())}}const P=["*"],m=p.mZ.ENTERING+" "+p.yN.STANDARD_CURVE,f={indicator:(0,a.X$)("indicator",[(0,a.SB)("active-asc, asc",(0,a.oB)({transform:"translateY(0px)"})),(0,a.SB)("active-desc, desc",(0,a.oB)({transform:"translateY(10px)"})),(0,a.eR)("active-asc <=> active-desc",(0,a.jt)(m))]),leftPointer:(0,a.X$)("leftPointer",[(0,a.SB)("active-asc, asc",(0,a.oB)({transform:"rotate(-45deg)"})),(0,a.SB)("active-desc, desc",(0,a.oB)({transform:"rotate(45deg)"})),(0,a.eR)("active-asc <=> active-desc",(0,a.jt)(m))]),rightPointer:(0,a.X$)("rightPointer",[(0,a.SB)("active-asc, asc",(0,a.oB)({transform:"rotate(45deg)"})),(0,a.SB)("active-desc, desc",(0,a.oB)({transform:"rotate(-45deg)"})),(0,a.eR)("active-asc <=> active-desc",(0,a.jt)(m))]),arrowOpacity:(0,a.X$)("arrowOpacity",[(0,a.SB)("desc-to-active, asc-to-active, active",(0,a.oB)({opacity:1})),(0,a.SB)("desc-to-hint, asc-to-hint, hint",(0,a.oB)({opacity:.54})),(0,a.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,a.oB)({opacity:0})),(0,a.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,a.jt)("0ms")),(0,a.eR)("* <=> *",(0,a.jt)(m))]),arrowPosition:(0,a.X$)("arrowPosition",[(0,a.eR)("* => desc-to-hint, * => desc-to-active",(0,a.jt)(m,(0,a.F4)([(0,a.oB)({transform:"translateY(-25%)"}),(0,a.oB)({transform:"translateY(0)"})]))),(0,a.eR)("* => hint-to-desc, * => active-to-desc",(0,a.jt)(m,(0,a.F4)([(0,a.oB)({transform:"translateY(0)"}),(0,a.oB)({transform:"translateY(25%)"})]))),(0,a.eR)("* => asc-to-hint, * => asc-to-active",(0,a.jt)(m,(0,a.F4)([(0,a.oB)({transform:"translateY(25%)"}),(0,a.oB)({transform:"translateY(0)"})]))),(0,a.eR)("* => hint-to-asc, * => active-to-asc",(0,a.jt)(m,(0,a.F4)([(0,a.oB)({transform:"translateY(0)"}),(0,a.oB)({transform:"translateY(-25%)"})]))),(0,a.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,a.oB)({transform:"translateY(0)"})),(0,a.SB)("hint-to-desc, active-to-desc, desc",(0,a.oB)({transform:"translateY(-25%)"})),(0,a.SB)("hint-to-asc, active-to-asc, asc",(0,a.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,a.X$)("allowChildren",[(0,a.eR)("* <=> *",[(0,a.IO)("@*",(0,a.pV)(),{optional:!0})])])};let y=(()=>{class e{constructor(){this.changes=new x.x}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const U={provide:y,deps:[[new t.FiY,new t.tp0,y]],useFactory:function K(e){return e||new y}},q=new t.OlP("MAT_SORT_DEFAULT_OPTIONS"),L=(0,p.dB)((0,p.Id)(class{}));let C=(()=>{class e extends L{constructor(i){super(),this._defaultOptions=i,this.sortables=new Map,this._stateChanges=new x.x,this.start="asc",this._direction="",this.sortChange=new t.vpe}get direction(){return this._direction}set direction(i){this._direction=i}get disableClear(){return this._disableClear}set disableClear(i){this._disableClear=(0,I.Ig)(i)}register(i){this.sortables.set(i.id,i)}deregister(i){this.sortables.delete(i.id)}sort(i){this.active!=i.id?(this.active=i.id,this.direction=i.start?i.start:this.start):this.direction=this.getNextSortDirection(i),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(i){var r,n,l;if(!i)return"";const T=null!==(n=null!==(r=null==i?void 0:i.disableClear)&&void 0!==r?r:this.disableClear)&&void 0!==n?n:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let u=function $(e,o){let i=["asc","desc"];return"desc"==e&&i.reverse(),o||i.push(""),i}(i.start||this.start,T),h=u.indexOf(this.direction)+1;return h>=u.length&&(h=0),u[h]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(q,8))},e.\u0275dir=t.lG2({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[t.qOj,t.TTD]}),e})();const V=(0,p.Id)(class{});let F=(()=>{class e extends V{constructor(i,r,n,l,T,u,h){super(),this._intl=i,this._changeDetectorRef=r,this._sort=n,this._columnDef=l,this._focusMonitor=T,this._elementRef=u,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(i){this._updateSortActionDescription(i)}get disableClear(){return this._disableClear}set disableClear(i){this._disableClear=(0,I.Ig)(i)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{const r=!!i;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(i){this._isDisabled()&&i||(this._showIndicatorHint=i,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(i){this._viewState=i||{},this._disableViewStateAnimation&&(this._viewState={toState:i.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(i){!this._isDisabled()&&(i.keyCode===D.L_||i.keyCode===D.K5)&&(i.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const i=this._viewState.fromState;return(i?`${i}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(i){var r,n;this._sortButton&&(null===(r=this._ariaDescriber)||void 0===r||r.removeDescription(this._sortButton,this._sortActionDescription),null===(n=this._ariaDescriber)||void 0===n||n.describe(this._sortButton,i)),this._sortActionDescription=i}_handleStateChanges(){this._rerenderSubscription=(0,w.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(y),t.Y36(t.sBO),t.Y36(C,8),t.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),t.Y36(H.tE),t.Y36(t.SBq),t.Y36(H.$s,8))},e.\u0275cmp=t.Xpm({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,r){1&i&&t.NdJ("click",function(){return r._handleClick()})("keydown",function(l){return r._handleKeydown(l)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&i&&(t.uIk("aria-sort",r._getAriaSortAttribute()),t.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[t.qOj],attrs:b,ngContentSelectors:P,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,r){1&i&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA(),t.YNc(3,B,6,6,"div",2),t.qZA()),2&i&&(t.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"==r.arrowPosition),t.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),t.xp6(3),t.Q6J("ngIf",r._renderArrow()))},directives:[S.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[f.indicator,f.leftPointer,f.rightPointer,f.arrowOpacity,f.arrowPosition,f.allowChildren]},changeDetection:0}),e})(),j=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[U],imports:[[S.ez,p.BQ]]}),e})();var O=s(3556),g=s(9337),J=s(4874),G=s(2673),z=s(7312),_=s(7939),W=s(397);function X(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Parent BPI"),t.qZA())}function tt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).parentBusinessProcessId)}}function et(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"BPI"),t.qZA())}function it(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).businessProcessId)}}function ot(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Task Id"),t.qZA())}function rt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).taskId)}}function at(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Event type"),t.qZA())}function nt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).eventType)}}function st(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Created"),t.qZA())}function ct(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"germanTimeFormat"),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,r.convertToTaskHistoryEventData(i).created))}}function dt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"User Id"),t.qZA())}function lt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).userId)}}function _t(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Domain"),t.qZA())}function mt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).domain)}}function ut(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Workbasket key"),t.qZA())}function ht(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).workbasketKey)}}function pt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Obj company"),t.qZA())}function ft(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).porCompany)}}function Tt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Obj system"),t.qZA())}function yt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).porSystem)}}function gt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Obj instance"),t.qZA())}function St(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).porInstance)}}function Ct(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Obj type"),t.qZA())}function vt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).porType)}}function At(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Obj value"),t.qZA())}function kt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).porValue)}}function Et(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Classification key"),t.qZA())}function It(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).taskClassificationKey)}}function Dt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Classification category"),t.qZA())}function xt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).taskClassificationCategory)}}function wt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Attachment Classification Key"),t.qZA())}function Ht(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).attachmentClassificationKey)}}function Ot(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Custom 1"),t.qZA())}function Nt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).custom1)}}function Zt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Custom 2"),t.qZA())}function Yt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).custom2)}}function Qt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Custom 3"),t.qZA())}function Rt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).custom3)}}function Mt(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Custom 4"),t.qZA())}function bt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).custom4)}}function Bt(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Old data"),t.qZA())}function Pt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).oldData)}}function Kt(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"New data"),t.qZA())}function Ut(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).newData)}}function qt(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Comment"),t.qZA())}function Lt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).comment)}}function $t(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Old value"),t.qZA())}function Vt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).oldValue)}}function Ft(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"New value"),t.qZA())}function jt(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const i=o.$implicit,r=t.oxw();t.xp6(1),t.Oqu(r.convertToTaskHistoryEventData(i).newValue)}}function Jt(e,o){1&e&&t._UZ(0,"tr",37)}function Gt(e,o){1&e&&t._UZ(0,"tr",38)}const zt=[{path:"",component:(()=>{class e{constructor(i,r){this.taskHistoryQueryService=i,this.requestInProgressService=r,this.data=[],this.displayedColumns=[{left:"parentBusinessProcessId",right:c.C7.PARENT_BUSINESS_PROCESS_ID},{left:"businessProcessId",right:c.C7.BUSINESS_PROCESS_ID},{left:"created",right:c.C7.CREATED},{left:"userId",right:c.C7.USER_ID},{left:"eventType",right:c.C7.EVENT_TYPE},{left:"workbasketKey",right:c.C7.WORKBASKET_KEY},{left:"porType",right:c.C7.POR_TYPE},{left:"porValue",right:c.C7.POR_VALUE},{left:"domain",right:c.C7.DOMAIN},{left:"taskId",right:c.C7.TASK_ID},{left:"porCompany",right:c.C7.POR_COMPANY},{left:"porSystem",right:c.C7.POR_SYSTEM},{left:"porInstance",right:c.C7.POR_INSTANCE},{left:"taskClassificationKey",right:c.C7.TASK_CLASSIFICATION_KEY},{left:"taskClassificationCategory",right:c.C7.TASK_CLASSIFICATION_CATEGORY},{left:"attachmentClassificationKey",right:c.C7.ATTACHMENT_CLASSIFICATION_KEY},{left:"custom1",right:c.C7.CUSTOM_1},{left:"custom2",right:c.C7.CUSTOM_2},{left:"custom3",right:c.C7.CUSTOM_3},{left:"custom4",right:c.C7.CUSTOM_4},{left:"comment",right:void 0},{left:"oldValue",right:void 0},{left:"newValue",right:void 0},{left:"oldData",right:void 0},{left:"newData",right:void 0}],this.pageParameter={page:1,"page-size":9},this.sortParameter={"sort-by":c.C7.CREATED,order:c.Nm.ASC}}ngOnInit(){}ngAfterViewInit(){const i=this.sort.sortChange.pipe((0,g.b)(n=>this.updateSortParameter(n)),(0,g.b)(()=>this.pageParameter.page=1)),r=this.pagination.changePage.pipe((0,g.b)(n=>this.pageParameter.page=n));(0,w.T)(i,r).pipe((0,J.O)({}),(0,g.b)(()=>this.calculateQueryPages()),(0,G.w)(()=>(this.requestInProgressService.setRequestInProgress(!0),this.taskHistoryQueryService.getTaskHistoryEvents(void 0,this.sortParameter,this.pageParameter)))).subscribe(n=>{this.data=n.taskHistoryEvents,this.pageInformation=n.page,this.requestInProgressService.setRequestInProgress(!1)})}updateSortParameter(i){if(i){const r=this.displayedColumns.find(n=>n.left===i.active);r&&(this.sortParameter={"sort-by":r.right,order:"asc"===i.direction?c.Nm.ASC:c.Nm.DESC})}}convertToTaskHistoryEventData(i){return i}getDisplayColumns(){return this.displayedColumns.map(i=>i.left)}calculateQueryPages(){const n=window.innerHeight,l=Math.round((n-300)/48);this.pageParameter["page-size"]=l>0?l:1}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(M),t.Y36(z.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["taskana-task-query"]],viewQuery:function(i,r){if(1&i&&(t.Gf(C,5),t.Gf(O.Q,5)),2&i){let n;t.iGM(n=t.CRH())&&(r.sort=n.first),t.iGM(n=t.CRH())&&(r.pagination=n.first)}},decls:81,vars:5,consts:[[1,"task-history-query"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","asc",3,"dataSource"],["matColumnDef","parentBusinessProcessId"],["mat-header-cell","","mat-sort-header","","disableClear","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","businessProcessId"],["matColumnDef","taskId"],["matColumnDef","eventType"],["matColumnDef","created"],["matColumnDef","userId"],["matColumnDef","domain"],["matColumnDef","workbasketKey"],["matColumnDef","porCompany"],["matColumnDef","porSystem"],["matColumnDef","porInstance"],["matColumnDef","porType"],["matColumnDef","porValue"],["matColumnDef","taskClassificationKey"],["matColumnDef","taskClassificationCategory"],["matColumnDef","attachmentClassificationKey"],["matColumnDef","custom1"],["matColumnDef","custom2"],["matColumnDef","custom3"],["matColumnDef","custom4"],["matColumnDef","oldData"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","newData"],["matColumnDef","comment"],["matColumnDef","oldValue"],["matColumnDef","newValue"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"task-history-query__pagination-wrapper"],[3,"numberOfItems","page"],["mat-header-cell","","mat-sort-header","","disableClear",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,X,2,0,"th",3),t.YNc(4,tt,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,et,2,0,"th",3),t.YNc(7,it,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,ot,2,0,"th",3),t.YNc(10,rt,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,at,2,0,"th",3),t.YNc(13,nt,2,1,"td",4),t.BQk(),t.ynx(14,8),t.YNc(15,st,2,0,"th",3),t.YNc(16,ct,3,3,"td",4),t.BQk(),t.ynx(17,9),t.YNc(18,dt,2,0,"th",3),t.YNc(19,lt,2,1,"td",4),t.BQk(),t.ynx(20,10),t.YNc(21,_t,2,0,"th",3),t.YNc(22,mt,2,1,"td",4),t.BQk(),t.ynx(23,11),t.YNc(24,ut,2,0,"th",3),t.YNc(25,ht,2,1,"td",4),t.BQk(),t.ynx(26,12),t.YNc(27,pt,2,0,"th",3),t.YNc(28,ft,2,1,"td",4),t.BQk(),t.ynx(29,13),t.YNc(30,Tt,2,0,"th",3),t.YNc(31,yt,2,1,"td",4),t.BQk(),t.ynx(32,14),t.YNc(33,gt,2,0,"th",3),t.YNc(34,St,2,1,"td",4),t.BQk(),t.ynx(35,15),t.YNc(36,Ct,2,0,"th",3),t.YNc(37,vt,2,1,"td",4),t.BQk(),t.ynx(38,16),t.YNc(39,At,2,0,"th",3),t.YNc(40,kt,2,1,"td",4),t.BQk(),t.ynx(41,17),t.YNc(42,Et,2,0,"th",3),t.YNc(43,It,2,1,"td",4),t.BQk(),t.ynx(44,18),t.YNc(45,Dt,2,0,"th",3),t.YNc(46,xt,2,1,"td",4),t.BQk(),t.ynx(47,19),t.YNc(48,wt,2,0,"th",3),t.YNc(49,Ht,2,1,"td",4),t.BQk(),t.ynx(50,20),t.YNc(51,Ot,2,0,"th",3),t.YNc(52,Nt,2,1,"td",4),t.BQk(),t.ynx(53,21),t.YNc(54,Zt,2,0,"th",3),t.YNc(55,Yt,2,1,"td",4),t.BQk(),t.ynx(56,22),t.YNc(57,Qt,2,0,"th",3),t.YNc(58,Rt,2,1,"td",4),t.BQk(),t.ynx(59,23),t.YNc(60,Mt,2,0,"th",3),t.YNc(61,bt,2,1,"td",4),t.BQk(),t.ynx(62,24),t.YNc(63,Bt,2,0,"th",25),t.YNc(64,Pt,2,1,"td",4),t.BQk(),t.ynx(65,26),t.YNc(66,Kt,2,0,"th",25),t.YNc(67,Ut,2,1,"td",4),t.BQk(),t.ynx(68,27),t.YNc(69,qt,2,0,"th",25),t.YNc(70,Lt,2,1,"td",4),t.BQk(),t.ynx(71,28),t.YNc(72,$t,2,0,"th",25),t.YNc(73,Vt,2,1,"td",4),t.BQk(),t.ynx(74,29),t.YNc(75,Ft,2,0,"th",25),t.YNc(76,jt,2,1,"td",4),t.BQk(),t.YNc(77,Jt,1,0,"tr",30),t.YNc(78,Gt,1,0,"tr",31),t.qZA(),t.TgZ(79,"div",32),t._UZ(80,"taskana-shared-pagination",33),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("dataSource",r.data),t.xp6(76),t.Q6J("matHeaderRowDef",r.getDisplayColumns()),t.xp6(1),t.Q6J("matRowDefColumns",r.getDisplayColumns()),t.xp6(2),t.Q6J("numberOfItems",r.data.length)("page",r.pageInformation))},directives:[_.BZ,C,_.w1,_.fO,_.ge,F,_.Dz,_.ev,_.as,_.XQ,_.nj,_.Gk,O.Q],pipes:[W.t],styles:[".task-history-query[_ngcontent-%COMP%]{height:calc(100vh - 56px);width:auto;overflow-x:scroll;overflow-y:auto}.task-history-query__pagination-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:16px;width:100%}"]}),e})()},{path:"**",redirectTo:""}];let Wt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[k.Bz.forChild(zt)],k.Bz]}),e})(),Xt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[S.ez,Wt,N.m,A.u5,A.UX,_.p0,j]]}),e})()}}]);
//# sourceMappingURL=src_app_history_history_module_ts.e1c399c538a20787.js.map